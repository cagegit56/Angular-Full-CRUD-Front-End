{"ast":null,"code":"import { first } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/emp.service\";\nimport * as i2 from \"@angular/router\";\nfunction ListComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 16)(10, \"a\", 17);\n    i0.ɵɵelement(11, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_26_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const emp_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delete(emp_r2));\n    });\n    i0.ɵɵelement(13, \"i\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const emp_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r2.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r2.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(emp_r2.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/employee/edit/\", emp_r2.empId, \"\");\n  }\n}\nfunction ListComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 21)(2, \"div\", 22);\n    i0.ɵɵtext(3, \"Employee not found\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nexport class ListComponent {\n  constructor(empService, router) {\n    this.empService = empService;\n    this.router = router;\n    this.totalrow = 0;\n  }\n  ngOnInit() {\n    this.loadEmployee();\n  }\n  loadEmployee() {\n    this.empService.getAll().pipe(first()).subscribe(d => {\n      this.employees = d;\n      this.totalrow = d.length;\n    });\n  }\n  delete(emp) {\n    this.empService.delete(emp.empId).pipe(first()).subscribe(() => {\n      this.loadEmployee();\n    });\n  }\n  logOut() {\n    localStorage.removeItem('authToken');\n    this.router.navigate(['./welcome']);\n  }\n  static #_ = this.ɵfac = function ListComponent_Factory(t) {\n    return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.EmpService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListComponent,\n    selectors: [[\"app-list\"]],\n    decls: 35,\n    vars: 5,\n    consts: [[1, \"card\", \"shadow\", \"my-2\"], [1, \"card-header\"], [1, \"row\", \"flex-between-center\"], [1, \"col-md-4\", \"d-flex\", \"align-items-center\", \"pe-0\"], [1, \"mb-0\", \"text-nowrap\", \"py-2\", \"py-xl-0\"], [1, \"col-md-8\", \"ms-auto\", \"text-end\", \"ps-0\"], [1, \"card-body\", \"p-0\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\", \"mb-0\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"border-top\", \"text-muted\", \"fixed-bottom\", \"p-2\"], [1, \"container\", \"text-center\"], [\"routerLink\", \"/employee/add\", 1, \"btn\", \"btn-success\"], [1, \"bi\", \"bi-plus\"], [3, \"routerLink\", \"click\"], [1, \"white-space-nowrap\"], [\"placement\", \"bottom\", \"ngbTooltip\", \"Edit\", 1, \"btn\", \"btn-outline-success\", 3, \"routerLink\"], [1, \"bi\", \"bi-pencil\"], [\"placement\", \"bottom\", \"ngbTooltip\", \"Delete\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [\"colspan\", \"5\"], [1, \"alert\", \"alert-danger\"]],\n    template: function ListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"h5\", 4);\n        i0.ɵɵtext(6, \"Employee List\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"h6\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"table\", 8)(13, \"thead\")(14, \"tr\")(15, \"th\");\n        i0.ɵɵtext(16, \"FirstName\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\");\n        i0.ɵɵtext(18, \"LastName\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\");\n        i0.ɵɵtext(20, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\");\n        i0.ɵɵtext(22, \"Phone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\");\n        i0.ɵɵtext(24, \"Action\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(25, \"tbody\");\n        i0.ɵɵtemplate(26, ListComponent_tr_26_Template, 14, 5, \"tr\", 9);\n        i0.ɵɵtemplate(27, ListComponent_tr_27_Template, 4, 0, \"tr\", 10);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(28, \"footer\", 11)(29, \"div\", 12)(30, \"a\", 13);\n        i0.ɵɵelement(31, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"a\", 15);\n        i0.ɵɵlistener(\"click\", function ListComponent_Template_a_click_32_listener() {\n          return ctx.logOut();\n        });\n        i0.ɵɵtext(33, \"Logout\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\"Total : \", ctx.totalrow, \"\");\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.employees);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.totalrow === 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["first","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ListComponent_tr_26_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","_r4","emp_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","delete","ɵɵadvance","ɵɵtextInterpolate","firstName","lastName","email","phoneNumber","ɵɵpropertyInterpolate1","empId","ListComponent","constructor","empService","router","totalrow","ngOnInit","loadEmployee","getAll","pipe","subscribe","d","employees","length","emp","logOut","localStorage","removeItem","navigate","_","ɵɵdirectiveInject","i1","EmpService","i2","Router","_2","selectors","decls","vars","consts","template","ListComponent_Template","rf","ctx","ɵɵtemplate","ListComponent_tr_26_Template","ListComponent_tr_27_Template","ListComponent_Template_a_click_32_listener","ɵɵtextInterpolate1","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\kagiso\\Desktop\\Projects\\Angular app2\\Angular app\\cageapp\\src\\app\\employee\\list.component.ts","C:\\Users\\kagiso\\Desktop\\Projects\\Angular app2\\Angular app\\cageapp\\src\\app\\employee\\list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Emp } from '../_models/emp';\nimport { EmpService } from '../_services/emp.service';\nimport { first } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n  employees!: Emp[];\n  totalrow: number = 0;\n\n  constructor(private empService: EmpService,private router: Router) { }\n\n  ngOnInit(): void {\n    this.loadEmployee();\n  }\n\nloadEmployee() {\n    this.empService.getAll().pipe(first())\n      .subscribe(d => {\n        this.employees = d;\n        this.totalrow = d.length;\n      });\n  }\n\n  delete(emp: Emp) {\n    this.empService.delete(emp.empId).pipe(first())\n      .subscribe(() => {\n        this.loadEmployee();\n      })\n  }\n\n  logOut(){\n    localStorage.removeItem('authToken');\n    this.router.navigate(['./welcome']);\n  }\n\n}\n","<section>\n    <div class=\"card shadow my-2\">\n        <div class=\"card-header\">\n            <div class=\"row flex-between-center\">\n                <div class=\"col-md-4 d-flex align-items-center pe-0\">\n                    <h5 class=\"mb-0 text-nowrap py-2 py-xl-0\">Employee List</h5>\n                </div>\n                <div class=\"col-md-8 ms-auto text-end ps-0\">\n                    <h6>Total : {{totalrow}}</h6>\n                </div>\n            </div>\n        </div>\n        <div class=\"card-body p-0\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-striped table-hover mb-0\">\n                    <thead>\n                        <tr>\n                            <th>FirstName</th>\n                            <th>LastName</th>\n                            <th>Email</th>\n                            <th>Phone</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let emp of employees\">\n                            <td>{{emp.firstName}}</td>\n                            <td>{{emp.lastName}}</td>\n                            <td>{{emp.email}}</td>\n                            <td>{{emp.phoneNumber}}</td>\n                            <td class=\"white-space-nowrap\">\n                                <a routerLink=\"/employee/edit/{{emp.empId}}\" class=\"btn btn-outline-success\" placement=\"bottom\" ngbTooltip=\"Edit\"><i\n                                        class=\"bi bi-pencil\"></i></a>\n                                <button (click)=\"delete(emp)\" class=\"btn btn-outline-danger\" placement=\"bottom\" ngbTooltip=\"Delete\"><i\n                                        class=\"bi bi-trash\"></i></button>\n                            </td>\n                        </tr>\n                        <tr *ngIf=\"totalrow===0\">\n                            <td colspan=\"5\">\n                                <div class=\"alert alert-danger\">Employee not found</div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</section>\n\n<footer class=\"border-top text-muted fixed-bottom p-2\">\n    <div class=\"container text-center\">\n        <a routerLink=\"/employee/add\" class=\"btn btn-success\">\n            <i class=\"bi bi-plus\"></i>\n        </a>\n    </div>\n    <a [routerLink]=\"[]\" (click)=\"logOut()\">Logout</a><br>\n</footer>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}